# SPDX-License-Identifier: GPL-2.0-only
#
# Generic thermal sysfs drivers configuration
#

menuconfig THERMAL
	bool "Generic Thermal sysfs driver"
	help
	  Generic Thermal Sysfs driver offers a generic mechanism for
	  thermal management. Usually it's made up of one or more thermal
	  zone and cooling device.
	  Each thermal zone contains its own temperature, trip points,
	  cooling devices.
	  All platforms with ACPI thermal support can use this driver.
	  If you want this support, you should say Y here.

if THERMAL

config THERMAL_OF
	bool
	prompt "APIs to parse thermal data out of device tree"
	depends on OF
	default y
	help
	  This options provides helpers to add the support to
	  read and parse thermal data definitions out of the
	  device tree blob.

	  Say 'Y' here if you need to build thermal infrastructure
	  based on device tree.

config THERMAL_EMERGENCY_POWEROFF_DELAY_MS                                   
    int "Emergency poweroff delay in milli-seconds"                          
    default 0                                                                
    help                                                                     
    | Thermal subsystem will issue a graceful shutdown when                  
    | critical temperatures are reached using orderly_poweroff(). In         
    | case of failure of an orderly_poweroff(), the thermal emergency        
    | poweroff kicks in after a delay has elapsed and shuts down the system. 
    | This config is number of milliseconds to delay before emergency        
    | poweroff kicks in. Similarly to the critical trip point,               
    | the delay should be carefully profiled so as to give adequate          
    | time for orderly_poweroff() to finish on regular execution.            
    | If set to 0 emergency poweroff will not be supported.                  
                                                                             
    | In doubt, leave as 0.                                                  

choice                                                             
    prompt "Default Thermal governor"                              
    default THERMAL_DEFAULT_GOV_STEP_WISE                          
    help                                                           
    | This option sets which thermal governor shall be loaded at   
    | startup. If in doubt, select 'step_wise'.                    
                                                                   
config THERMAL_DEFAULT_GOV_STEP_WISE                               
    bool "step_wise"                                               
    select THERMAL_GOV_STEP_WISE                                   
    help                                                           
    | Use the step_wise governor as default. This throttles the    
    | devices one step at a time.                                  
                                                                   
config THERMAL_DEFAULT_GOV_FAIR_SHARE                              
    bool "fair_share"                                              
    select THERMAL_GOV_FAIR_SHARE                                  
    help                                                           
    | Use the fair_share governor as default. This throttles the   
    | devices based on their 'contribution' to a zone. The         
    | contribution should be provided through platform data.       
                                                                   
config THERMAL_DEFAULT_GOV_USER_SPACE                              
    bool "user_space"                                              
    select THERMAL_GOV_USER_SPACE                                  
    help                                                           
    | Select this if you want to let the user space manage the     
    | platform thermals.                                           
                                                                   
config THERMAL_DEFAULT_GOV_POWER_ALLOCATOR                         
    bool "power_allocator"                                         
    select THERMAL_GOV_POWER_ALLOCATOR                             
    help                                                           
    | Select this if you want to control temperature based on      
    | system and device power allocation. This governor can only   
    | operate on cooling devices that implement the power API.     
                                                                   
endchoice                

config THERMAL_GOV_STEP_WISE
	bool "Step_wise thermal governor"
	help
	  Enable this to manage platform thermals using a simple linear
	  governor.

config CPU_THERMAL
	bool "Generic cpu cooling support"
	depends on CPU_FREQ
	depends on THERMAL_OF
	help
	  This implements the generic cpu cooling mechanism through frequency
	  reduction. An ACPI version of this already exists
	  (drivers/acpi/processor_thermal.c).
	  This will be useful for platforms using the generic thermal interface
	  and not the ACPI interface.

	  If you want this support, you should say Y here.

endif
